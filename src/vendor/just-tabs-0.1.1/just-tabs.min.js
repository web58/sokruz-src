"use strict";function _classCallCheck(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,s){for(var e=0;e<s.length;e++){var a=s[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,s,e){return s&&_defineProperties(t.prototype,s),e&&_defineProperties(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var JustTabs=function(){function t(s,e){_classCallCheck(this,t);this.options=Object.assign({isChanged:function(){},activeBtnClass:null,activePanelClass:null},e),this.selector=s,this.tabs=document.querySelector('[data-tabs="'.concat(s,'"]')),this.tabs?(this.tabList=this.tabs.querySelector('[data-tabs="nav"]'),this.tabsBtns=this.tabList.querySelectorAll('[data-tabs="btn"]'),this.tabsPanels=this.tabs.querySelectorAll('[data-tabs="panel"]'),this.check(),this.init(),this.events()):console.error('Selector data-tabs="'.concat(this.selector," not found"))}return _createClass(t,[{key:"check",value:function(){document.querySelectorAll('[data-tabs="'.concat(this.selector,'"]')).length>1?console.error('Selector data-tabs="'.concat(this.selector,'" already exists!')):this.tabsBtns.length===this.tabsPanels.length||console.error("The number of buttons and panels does not match!")}},{key:"init",value:function(){var t=this;this.tabList.setAttribute("role","tablist"),this.tabsBtns.forEach((function(s,e){s.setAttribute("role","tab"),s.setAttribute("tabindex","-1"),s.setAttribute("id","".concat(t.selector).concat(e+1)),null!==t.options.activeBtnClass&&s.classList.remove(t.options.activeBtnClass)})),this.tabsPanels.forEach((function(s,e){s.setAttribute("role","tabpanel"),s.setAttribute("tabindex","-1"),s.setAttribute("aria-labelledby",t.tabsBtns[e].id),s.classList.remove("active-tab-panel"),null!==t.options.activePanelClass&&s.classList.remove(t.options.activePanelClass)})),null!==this.options.activeBtnClass&&this.tabsBtns[0].classList.add(this.options.activeBtnClass),this.tabsBtns[0].removeAttribute("tabindex"),this.tabsBtns[0].setAttribute("aria-selected","true"),this.tabsPanels[0].classList.add("active-tab-panel"),null!==this.options.activePanelClass&&this.tabsPanels[0].classList.add(this.options.activePanelClass)}},{key:"events",value:function(){var t=this;this.tabsBtns.forEach((function(s,e){s.addEventListener("click",(function(s){var e=t.tabList.querySelector("[aria-selected]");s.currentTarget!==e&&t.switchTabs(s.currentTarget,e)})),s.addEventListener("keydown",(function(s){var a=Array.prototype.indexOf.call(t.tabsBtns,s.currentTarget),i=null;switch(s.which){case 37:i=a-1;break;case 39:i=a+1;break;case 40:i="down";break;default:i=null}null!==i&&("down"===i?t.tabsPanels[e].focus():t.tabsBtns[i]&&t.switchTabs(t.tabsBtns[i],s.currentTarget))}))}))}},{key:"switchTabs",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tabs.querySelector("[aria-selected]");t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),s.removeAttribute("aria-selected"),s.setAttribute("tabindex","-1");var e=Array.prototype.indexOf.call(this.tabsBtns,t),a=Array.prototype.indexOf.call(this.tabsBtns,s);this.tabsPanels[a].classList.remove("active-tab-panel"),this.tabsPanels[e].classList.add("active-tab-panel"),null!==this.options.activePanelClass&&(this.tabsPanels[a].classList.remove(this.options.activePanelClass),this.tabsPanels[e].classList.add(this.options.activePanelClass)),null!==this.options.activeBtnClass&&(this.tabsBtns[a].classList.remove(this.options.activeBtnClass),this.tabsBtns[e].classList.add(this.options.activeBtnClass)),this.options.isChanged(this)}}]),t}();